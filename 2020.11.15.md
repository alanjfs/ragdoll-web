# Release Notes - 2020.11.15

The highlight for this release is Cached Playback!

- [**Cached Playback**](#cached-playback)<br>
    You can now leverage Maya 2020's native cached playback for your simulations, speeding up playback performance and lowering iteration times.
- [**Shape orientation and joints**](#shape-orientation)<br>
    Shapes relied on the `jointOrient` being proper for joints, gone are the days.

<br>
<br>
<br>

### Cached Playback

Maya 2018 introduced support for Cached Playback, and Maya 2020 added support for Cached **Simulation**, which is now fully supported by Ragdoll!


![ragdollcached1](https://user-images.githubusercontent.com/2152766/98826001-0fac2400-242d-11eb-9261-9b6e19034076.gif)

![ragdollcached2](https://user-images.githubusercontent.com/2152766/98825995-0e7af700-242d-11eb-835d-355756fcaf9d.gif)

<table>
<tr>
<td>Create new rigids</td>
<td>Edit existing rigids</td>
</tr>
<tr>
<td>

![ragdollcached1](https://user-images.githubusercontent.com/2152766/98826001-0fac2400-242d-11eb-9261-9b6e19034076.gif)

</td>
<td>

![ragdollcached2](https://user-images.githubusercontent.com/2152766/98825995-0e7af700-242d-11eb-835d-355756fcaf9d.gif)

</td>
</tr>
</table>

> Trajectories can be enabled with the `rdScene.drawTrajectories` attribute, under `Visualisation` of the Attribute Editor

#### Known Limitations with Cached Playback

There is still work to be done. Currently, animated visualisations aren't updating in cached mode. However the simulation still runs correctly and your driven character animation will behave identically to non-cached mode.

<table>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><b>Slice</b></td>
<td><b>Connection</b></td>
</tr>
<tr>
<td>The animation of the slice visualisation doesn't represent the current, animated state</td>
<td>The connection visualisation is not up-to-date, you can disable the drawing with rdConstraint.drawConnection</td>
</tr>
<tr>
<td>

<img height=200 width=400 src=https://user-images.githubusercontent.com/2152766/98831495-8b10d400-2433-11eb-81c2-1d9339c3a459.gif>

</td>
<td>

<img height=200 width=400 src=https://user-images.githubusercontent.com/2152766/98831501-8cda9780-2433-11eb-98f6-735ddd148d91.gif>

</td>
</tr>
<tr>
<td>

<img height=200 width=400 src=https://user-images.githubusercontent.com/2152766/98831489-89dfa700-2433-11eb-8fa0-574108837bb7.gif>

</td>
<tr>
<td><b>Guide</b></td>
</tr>
<td>The guide delta drawn to represent the difference between simulation and your animation only draws the latest result, rather than the result on the current frame.</td>
</tr>
<tr>
</tr>
</table>

Note that these are *only visual* and does *not* affect the simulation. These will all be addressed in a future release!

<br>
<br>
<br>

### Shape Orientation

Shapes typically align with the Maya node, but in the case of joints that isn't always what you want. Maya separates between joint orientation and drawing; it'll always draw joints facing its child. When the orientation and visual orientation of a joint differs, you would end up with correct but unexpected results.

This release fixes that by properly updating..

- `rdRigid.shapeOffset`
- `rdRigid.shapeRotation`

..to mimic how joints appear in the Maya viewport.

![ragdollorientauto](https://user-images.githubusercontent.com/2152766/98810185-bb964500-2416-11eb-928e-1b2b39c1ea66.gif)
